- data.platforms[platform].drivers.each do |name|
  - data.drivers.each do |key, value|
    - nested = value.keys.include?(name) if value.is_a?(Hash)

    - if nested # specific GPIO/I2C drivers
      - value = value[name]
      .compatability-link
        %a{href:"/documentation/drivers/#{value}", title: name}
          %p.title=name
          %img{src: "/images/devices/#{value}.jpg", style: "width: 100%"}

    - if key == name
      - if value.is_a?(Hash)
        %h2= "#{name} Drivers"
        %section
          - data.drivers[name].each do |name, slug|
            .compatability-link
              %a{href:"/documentation/drivers/#{slug}", title: name}
                %p.title=name
                %img{src: "/images/devices/#{slug}.jpg", style: "width: 100%"}

      - else
        .compatability-link
          %a{href:"/documentation/drivers/#{value}", title: key}
            %p.title=name
            %img{src: "/images/devices/#{value}.jpg", style: "width: 100%"}
